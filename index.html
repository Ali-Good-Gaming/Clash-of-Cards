<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Clash of Cards - –ù–∞–π–¥–∏ –ø–∞—Ä—É</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –®—Ä–∏—Ñ—Ç—ã -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;600;800&display=swap" rel="stylesheet">

    <style>
        /* =========================================
           –ì–õ–û–ë–ê–õ–¨–ù–´–ï –°–¢–ò–õ–ò –ò –ü–ï–†–ï–ú–ï–ù–ù–´–ï
           ========================================= */
        :root {
            --primary-color: #ffcc00;
            --secondary-color: #ff0080;
            --accent-color: #00f2ea;
            --dark-bg: #0f0f13;
            --card-ratio: 285 / 420;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background-color: var(--dark-bg);
            /* –§–û–ù: –ï—Å–ª–∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –Ω–µ—Ç, –±—É–¥–µ—Ç –∫—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            background-image: url('background.png'), linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            color: white;
            height: 100vh;
            width: 100vw;
            overflow: hidden; /* –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* –û—Ä–±–∏—Ç–∞–ª—å–Ω—ã–π —à—Ä–∏—Ñ—Ç –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */
        .font-orbitron {
            font-family: 'Orbitron', sans-serif;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
        #app-container {
            width: 100%;
            height: 100%;
            position: relative;
            background: rgba(0, 0, 0, 0.65); /* –ó–∞—Ç–µ–º–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–∞ */
            backdrop-filter: blur(3px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* =========================================
           –ê–ù–ò–ú–ê–¶–ò–ò –ò –≠–§–§–ï–ö–¢–´
           ========================================= */
        @keyframes neonPulse {
            0% { box-shadow: 0 0 5px var(--secondary-color), 0 0 10px var(--secondary-color); }
            50% { box-shadow: 0 0 20px var(--secondary-color), 0 0 30px var(--secondary-color); }
            100% { box-shadow: 0 0 5px var(--secondary-color), 0 0 10px var(--secondary-color); }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        /* =========================================
           –ö–û–ú–ü–û–ù–ï–ù–¢–´ UI
           ========================================= */
        
        /* –ö–Ω–æ–ø–∫–∞ "–ò–≥—Ä–∞—Ç—å" –∏ –≥–ª–∞–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .btn-primary {
            background: linear-gradient(90deg, #ff8c00, #ff0080);
            border: none;
            position: relative;
            z-index: 1;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 0 15px rgba(255, 0, 128, 0.5);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 800;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, #ff0080, #ff8c00);
            z-index: -1;
            transition: opacity 0.3s ease;
            opacity: 0;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 140, 0, 0.7);
        }
        
        .btn-primary:hover::before {
            opacity: 1;
        }

        /* –ö–Ω–æ–ø–∫–∞ "–ù–∞–∑–∞–¥" - –Ø—Ä–∫–∞—è –∏ –∑–∞–º–µ—Ç–Ω–∞—è */
        .btn-back {
            background: rgba(255, 0, 0, 0.2);
            border: 2px solid #ff4d4d;
            color: #ffcccc;
            font-weight: bold;
            text-transform: uppercase;
            transition: all 0.3s;
            box-shadow: 0 0 10px rgba(255, 0, 0, 0.2);
            backdrop-filter: blur(5px);
        }
        
        .btn-back:hover {
            background: #ff4d4d;
            color: white;
            box-shadow: 0 0 20px #ff4d4d;
            transform: translateX(-5px);
        }

        /* –û–±—ã—á–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
        .btn-secondary {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            transition: all 0.3s;
        }
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.15);
            border-color: white;
            transform: translateY(-2px);
        }

        /* –ò–∫–æ–Ω–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π */
        .social-link {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            font-size: 1.5rem;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .social-link:hover {
            transform: translateY(-5px) rotate(10deg);
            background: white;
        }
        
        .social-youtube:hover { color: #FF0000; box-shadow: 0 0 15px #FF0000; }
        .social-telegram:hover { color: #0088cc; box-shadow: 0 0 15px #0088cc; }
        .social-tiktok:hover { color: #000000; box-shadow: 2px 2px 0 #00f2ea, -2px -2px 0 #ff0050; }

        /* =========================================
           –ò–ì–†–û–í–û–ï –ü–û–õ–ï –ò –ö–ê–†–¢–´ (–ê–î–ê–ü–¢–ò–í)
           ========================================= */
        
        .game-board-container {
            flex-grow: 1;
            width: 100%;
            max-width: 1200px;
            /* –í–ê–ñ–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º viewport units —á—Ç–æ–±—ã –≤–ª–µ–∑—Ç—å –≤ —ç–∫—Ä–∞–Ω */
            height: calc(100vh - 140px); 
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            perspective: 1000px;
        }

        .grid-container {
            display: grid;
            gap: 10px;
            /* –†–∞–∑–º–µ—Ä—ã —Å–µ—Ç–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ JS –∏–ª–∏ —á–µ—Ä–µ–∑ CSS media */
            width: 100%;
            height: 100%;
            justify-content: center;
            align-content: center;
        }

        .card {
            position: relative;
            /* –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏, –Ω–æ —à–∏—Ä–∏–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—ã—Å–æ—Ç—ã –∏–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç */
            aspect-ratio: 285 / 420;
            width: auto;
            height: 100%; 
            max-height: 100%;
            cursor: pointer;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 8px;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫–∞—Ä—Ç –≤–Ω—É—Ç—Ä–∏ —è—á–µ–µ–∫ */
        .grid-4x4 .card { max-width: 18vh; } 
        .grid-6x5 .card { max-width: 12vh; } 
        .grid-10x5 .card { max-width: 9vh; }

        /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö –µ—â–µ —É–º–µ–Ω—å—à–∞–µ–º, —á—Ç–æ–±—ã –≤–ª–µ–∑–ª–æ */
        @media (max-width: 768px) {
            .grid-container { gap: 5px; }
            .grid-4x4 .card { max-width: 22vw; }
            .grid-6x5 .card { max-width: 15vw; }
            .grid-10x5 .card { max-width: 9vw; }
        }

        .card-face {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .card-front {
            background: #222;
            transform: rotateY(180deg);
        }

        .card-back {
            background: linear-gradient(135deg, #2a2a2a, #1a1a1a);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-back::after {
            /* –£–∑–æ—Ä —Ä—É–±–∞—à–∫–∏ –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
            content: '?';
            font-size: 2rem;
            color: rgba(255,255,255,0.1);
            font-family: 'Orbitron', sans-serif;
        }

        /* –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞—Ä—Ç—ã */
        .card.flipped {
            transform: rotateY(180deg);
        }
        
        .card.matched {
            transform: rotateY(180deg) scale(0.95);
            opacity: 0.6;
            box-shadow: 0 0 15px #00ff00;
            cursor: default;
            animation: matchPulse 1s infinite;
        }

        .card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        @keyframes matchPulse {
            0% { box-shadow: 0 0 5px #00ff00; }
            50% { box-shadow: 0 0 15px #00ff00; }
            100% { box-shadow: 0 0 5px #00ff00; }
        }

        /* =========================================
           –≠–ö–†–ê–ù–´
           ========================================= */
        .screen {
            display: none;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: fadeInScale 0.4s ease-out;
            padding: 20px;
            overflow-y: auto; /* –î–ª—è –º–µ–Ω—é –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
        }

        .screen.active {
            display: flex;
        }

        /* –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å –≤ –∏–≥—Ä–µ */
        .game-hud {
            width: 100%;
            max-width: 1000px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0 0 20px 20px;
            z-index: 10;
        }

        /* –ß–∞—Å—Ç–∏—Ü—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ–±–µ–¥—ã/—Å–æ–≤–ø–∞–¥–µ–Ω–∏—è */
        .particle {
            position: absolute;
            pointer-events: none;
            background: radial-gradient(circle, #fff, transparent);
            border-radius: 50%;
            animation: particleFade 1s linear forwards;
        }

        @keyframes particleFade {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(3); }
        }

    </style>
</head>
<body>

<div id="app-container">

    <!-- === –≠–ö–†–ê–ù 1: –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ === -->
    <div id="screen-menu" class="screen active">
        <div class="text-center mb-8 relative">
            <h1 class="font-orbitron text-5xl md:text-7xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 via-red-500 to-pink-500 animate-pulse pb-2">
                Clash of Cards
            </h1>
            <p class="text-gray-400 tracking-[0.3em] uppercase text-sm md:text-base mt-2">from ALI_Good_Gaming</p>
        </div>

        <div class="flex flex-col gap-4 w-full max-w-xs">
            <button onclick="nav.toModeSelect()" class="btn-primary py-4 rounded-xl text-xl shadow-lg" data-lang="play">
                –ò–≥—Ä–∞—Ç—å
            </button>
            
            <button onclick="nav.toRecords()" class="btn-secondary py-3 rounded-xl text-lg hover:text-yellow-400" data-lang="records">
                –†–µ–∫–æ—Ä–¥—ã
            </button>
            
            <button onclick="nav.toSettings()" class="btn-secondary py-3 rounded-xl text-lg hover:text-cyan-400" data-lang="settings">
                –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>
        </div>

        <!-- –°–æ—Ü—Å–µ—Ç–∏ -->
        <div class="mt-12 flex flex-col items-center">
            <p class="text-gray-500 text-xs uppercase tracking-widest mb-4" data-lang="socials">–ú–æ–∏ —Å–æ—Ü —Å–µ—Ç–∏</p>
            <div class="flex gap-6">
                <a href="https://youtube.com/@ali-gg?si=ua0XEhBtC0Pw5x7D" target="_blank" class="social-link social-youtube">
                    <i class="fab fa-youtube"></i>
                </a>
                <a href="https://t.me/aligoodgaming" target="_blank" class="social-link social-telegram">
                    <i class="fab fa-telegram-plane"></i>
                </a>
                <a href="https://www.tiktok.com/@ali_goodgaming?_r=1&_t=ZS-92vefrVyLnp" target="_blank" class="social-link social-tiktok">
                    <i class="fab fa-tiktok"></i>
                </a>
            </div>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 2: –í–´–ë–û–† –†–ï–ñ–ò–ú–ê === -->
    <div id="screen-mode" class="screen">
        <h2 class="font-orbitron text-4xl mb-10 text-white text-center" data-lang="selectMode">–í—ã–±–µ—Ä–∏—Ç–µ –†–µ–∂–∏–º</h2>
        
        <div class="flex flex-col md:flex-row gap-6 w-full max-w-4xl justify-center">
            <!-- –ö–ª–∞—Å—Å–∏–∫–∞ -->
            <button onclick="game.selectMode('classic')" class="group relative bg-gray-800/50 p-8 rounded-2xl border border-white/10 hover:border-yellow-400 transition-all w-full md:w-80 flex flex-col items-center hover:-translate-y-2 overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-yellow-500/10 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
                <i class="fas fa-layer-group text-5xl mb-4 text-yellow-400"></i>
                <span class="text-2xl font-bold mb-2 font-orbitron" data-lang="classic">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π</span>
                <span class="text-sm text-gray-400 text-center" data-lang="classicDesc">–ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞. –†–∞—Å—Å–ª–∞–±—å—Å—è –∏ –Ω–∞–π–¥–∏ –≤—Å–µ –ø–∞—Ä—ã.</span>
            </button>

            <!-- –ù–∞ –≤—Ä–µ–º—è -->
            <button onclick="game.selectMode('time')" class="group relative bg-gray-800/50 p-8 rounded-2xl border border-white/10 hover:border-cyan-400 transition-all w-full md:w-80 flex flex-col items-center hover:-translate-y-2 overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-br from-cyan-500/10 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
                <i class="fas fa-stopwatch text-5xl mb-4 text-cyan-400"></i>
                <span class="text-2xl font-bold mb-2 font-orbitron" data-lang="timeAttack">–ù–∞ –í—Ä–µ–º—è</span>
                <span class="text-sm text-gray-400 text-center" data-lang="timeDesc">–°–æ—Ä–µ–≤–Ω—É–π—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –∏ –ø–æ–ø–∞–¥–∏ –≤ —Ç–æ–ø!</span>
            </button>
        </div>

        <div class="mt-16">
            <button onclick="nav.backToMenu()" class="btn-back px-8 py-3 rounded-full flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> <span data-lang="back">–ù–∞–∑–∞–¥</span>
            </button>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 3: –†–ê–ó–ú–ï–† –ü–û–õ–Ø === -->
    <div id="screen-difficulty" class="screen">
        <h2 class="font-orbitron text-4xl mb-10 text-white text-center" data-lang="fieldSize">–†–∞–∑–º–µ—Ä –ü–æ–ª—è</h2>
        
        <div class="grid grid-cols-1 gap-4 w-full max-w-md px-4">
            <button onclick="game.start(4, 4)" class="btn-secondary p-5 rounded-xl text-xl flex justify-between items-center group hover:bg-white/10">
                <span class="font-bold">4 x 4</span>
                <span class="text-sm bg-white/10 px-3 py-1 rounded-full group-hover:bg-yellow-400 group-hover:text-black transition" data-lang="cards16">16 –ö–∞—Ä—Ç</span>
            </button>
            <button onclick="game.start(6, 5)" class="btn-secondary p-5 rounded-xl text-xl flex justify-between items-center group hover:bg-white/10">
                <span class="font-bold">6 x 5</span>
                <span class="text-sm bg-white/10 px-3 py-1 rounded-full group-hover:bg-yellow-400 group-hover:text-black transition" data-lang="cards30">30 –ö–∞—Ä—Ç</span>
            </button>
            <button onclick="game.start(10, 5)" class="btn-secondary p-5 rounded-xl text-xl flex justify-between items-center group hover:bg-white/10">
                <span class="font-bold">10 x 5</span>
                <span class="text-sm bg-white/10 px-3 py-1 rounded-full group-hover:bg-yellow-400 group-hover:text-black transition" data-lang="cards50">50 –ö–∞—Ä—Ç</span>
            </button>
        </div>

        <div class="mt-12">
            <button onclick="nav.toModeSelect()" class="btn-back px-8 py-3 rounded-full flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> <span data-lang="back">–ù–∞–∑–∞–¥</span>
            </button>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 4: –ò–ì–†–ê === -->
    <div id="screen-game" class="screen !justify-start !padding-0 bg-black/80">
        <!-- HUD -->
        <div class="game-hud">
            <button onclick="game.quit()" class="btn-back px-4 py-2 rounded-lg text-sm flex items-center gap-2">
                <i class="fas fa-bars"></i> <span data-lang="menu">–ú–µ–Ω—é</span>
            </button>
            
            <div id="timer-box" class="flex flex-col items-center hidden">
                <span class="text-xs text-gray-400" data-lang="time">–í—Ä–µ–º—è</span>
                <span id="timer-val" class="font-mono text-2xl font-bold text-yellow-400">00:00</span>
            </div>

            <div class="flex items-center gap-4">
                <button onclick="game.useHint()" id="btn-hint" class="relative overflow-hidden bg-cyan-900/50 border border-cyan-500/50 text-cyan-300 px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-cyan-500/20 transition disabled:opacity-50 disabled:cursor-not-allowed">
                    <i class="fas fa-lightbulb text-yellow-300"></i>
                    <span class="hidden sm:inline" data-lang="hint">–ü–æ–¥—Å–∫–∞–∑–∫–∞</span>
                    <span id="hint-count" class="bg-cyan-500 text-black text-xs font-bold px-1.5 rounded ml-1">3</span>
                </button>
            </div>
        </div>

        <!-- –ü–æ–ª–µ -->
        <div class="game-board-container">
            <div id="game-grid" class="grid-container grid-4x4">
                <!-- –ö–∞—Ä—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
            </div>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 5: –ü–û–ë–ï–î–ê === -->
    <div id="screen-win" class="screen">
        <div class="text-center relative z-10">
            <div class="text-8xl mb-4 animate-bounce">üèÜ</div>
            <h2 class="font-orbitron text-5xl md:text-6xl font-bold text-yellow-400 mb-2" data-lang="victory">–ü–û–ë–ï–î–ê!</h2>
            <p class="text-xl text-white mb-8" data-lang="allFound">–í—Å–µ –ø–∞—Ä—ã –Ω–∞–π–¥–µ–Ω—ã!</p>
            
            <div id="win-stats" class="bg-white/10 backdrop-blur-md p-6 rounded-2xl mb-8 max-w-sm mx-auto border border-white/20">
                <p class="text-lg mb-2"><span data-lang="timeResult">–í—Ä–µ–º—è:</span> <span id="final-time" class="font-bold text-yellow-400 text-2xl">00:00</span></p>
                <p class="text-lg"><span data-lang="movesResult">–•–æ–¥—ã:</span> <span id="final-moves" class="font-bold text-white text-2xl">0</span></p>
            </div>

            <!-- –§–æ—Ä–º–∞ —Ä–µ–∫–æ—Ä–¥–∞ -->
            <div id="record-form" class="hidden mb-8 w-full max-w-sm mx-auto">
                <input type="text" id="player-name" class="w-full bg-black/50 border-2 border-yellow-400/50 rounded-lg p-4 text-center text-white text-xl focus:border-yellow-400 outline-none placeholder-gray-500 mb-4" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è" maxlength="15">
                <button onclick="records.save()" class="btn-primary w-full py-3 rounded-lg text-lg" data-lang="saveRecord">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –†–µ–∫–æ—Ä–¥</button>
            </div>

            <div class="flex flex-col gap-4 items-center">
                <button onclick="nav.toModeSelect()" class="btn-secondary px-8 py-3 rounded-full text-lg w-64" data-lang="playAgain">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button onclick="nav.backToMenu()" class="text-gray-400 hover:text-white transition" data-lang="toMainMenu">–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 6: –†–ï–ö–û–†–î–´ === -->
    <div id="screen-records" class="screen">
        <h2 class="font-orbitron text-4xl mb-8 text-yellow-400" data-lang="recordsTitle">–ó–∞–ª –°–ª–∞–≤—ã</h2>
        
        <div class="w-full max-w-2xl bg-black/40 border border-white/10 rounded-xl overflow-hidden shadow-2xl backdrop-blur-sm flex-grow max-h-[60vh] flex flex-col">
            <div class="grid grid-cols-3 bg-white/5 p-4 font-bold text-gray-400 uppercase text-xs tracking-wider border-b border-white/10">
                <div data-lang="player">–ò–≥—Ä–æ–∫</div>
                <div class="text-center" data-lang="time">–í—Ä–µ–º—è</div>
                <div class="text-right" data-lang="date">–î–∞—Ç–∞</div>
            </div>
            <div id="records-list" class="overflow-y-auto p-2">
                <!-- JS –≤—Å—Ç–∞–≤–∏—Ç —Ä–µ–∫–æ—Ä–¥—ã -->
            </div>
        </div>

        <div class="mt-8 flex flex-col items-center gap-4">
            <button onclick="records.clear()" class="text-red-500/70 hover:text-red-500 text-sm uppercase tracking-widest transition" data-lang="clearRecords">–°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∫–æ—Ä–¥—ã</button>
            <button onclick="nav.backToMenu()" class="btn-back px-8 py-3 rounded-full flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> <span data-lang="back">–ù–∞–∑–∞–¥</span>
            </button>
        </div>
    </div>

    <!-- === –≠–ö–†–ê–ù 7: –ù–ê–°–¢–†–û–ô–ö–ò === -->
    <div id="screen-settings" class="screen">
        <h2 class="font-orbitron text-4xl mb-12 text-white" data-lang="settingsTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        
        <div class="w-full max-w-md space-y-6">
            <!-- –ó–≤—É–∫ -->
            <div class="bg-white/5 p-6 rounded-xl border border-white/10 flex justify-between items-center hover:bg-white/10 transition">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400">
                        <i class="fas fa-volume-up"></i>
                    </div>
                    <span class="text-xl" data-lang="sound">–ó–≤—É–∫</span>
                </div>
                <button onclick="audioManager.toggle()" id="btn-sound-toggle" class="w-16 h-8 rounded-full bg-green-500 relative transition-all">
                    <div class="absolute right-1 top-1 w-6 h-6 bg-white rounded-full transition-all"></div>
                </button>
            </div>

            <!-- –Ø–∑—ã–∫ -->
            <div class="bg-white/5 p-6 rounded-xl border border-white/10 flex justify-between items-center hover:bg-white/10 transition">
                <div class="flex items-center gap-4">
                    <div class="w-10 h-10 rounded-full bg-purple-500/20 flex items-center justify-center text-purple-400">
                        <i class="fas fa-globe"></i>
                    </div>
                    <span class="text-xl" data-lang="language">–Ø–∑—ã–∫</span>
                </div>
                <button onclick="translator.toggle()" class="bg-white/10 border border-white/20 px-4 py-2 rounded-lg hover:bg-white/20 transition font-bold text-yellow-400 min-w-[80px]">
                    <span id="current-lang-code">RU</span>
                </button>
            </div>
        </div>

        <div class="mt-12">
            <button onclick="nav.backToMenu()" class="btn-back px-8 py-3 rounded-full flex items-center gap-2">
                <i class="fas fa-arrow-left"></i> <span data-lang="back">–ù–∞–∑–∞–¥</span>
            </button>
        </div>
    </div>

</div>

<!-- –°–ö–†–ò–ü–¢–´ -->
<script>
    /* =========================================
       1. –ì–ï–ù–ï–†–ê–¢–û–† –ó–í–£–ö–û–í (WEB AUDIO API)
       –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ.
       ========================================= */
    const audioManager = {
        ctx: null,
        enabled: true,

        init() {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                this.ctx = new AudioContext();
            } catch (e) {
                console.warn('Web Audio API not supported');
            }
            this.updateBtn();
        },

        playTone(freq, type, duration, vol = 0.1) {
            if (!this.enabled || !this.ctx) return;
            const osc = this.ctx.createOscillator();
            const gain = this.ctx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
            gain.gain.setValueAtTime(vol, this.ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, this.ctx.currentTime + duration);
            osc.connect(gain);
            gain.connect(this.ctx.destination);
            osc.start();
            osc.stop(this.ctx.currentTime + duration);
        },

        playFlip() {
            // –õ–µ–≥–∫–∏–π "—Å–≤–∏—Å—Ç"
            this.playTone(600, 'sine', 0.1, 0.1);
        },

        playMatch() {
            // –ú–∞–∂–æ—Ä–Ω—ã–π –∞–∫–∫–æ—Ä–¥
            if (!this.enabled) return;
            const now = this.ctx.currentTime;
            [440, 554, 659].forEach((freq, i) => { // A Major
                setTimeout(() => this.playTone(freq, 'triangle', 0.3, 0.1), i * 50);
            });
        },

        playWin() {
            // –ü–æ–±–µ–¥–Ω–∞—è —Ñ–∞–Ω—Ñ–∞—Ä–∞
            if (!this.enabled) return;
            const notes = [523, 659, 783, 1046, 783, 1046]; // C E G C G C
            notes.forEach((freq, i) => {
                setTimeout(() => this.playTone(freq, 'square', 0.2, 0.1), i * 150);
            });
        },

        playClick() {
            this.playTone(200, 'sine', 0.05, 0.05);
        },

        toggle() {
            this.enabled = !this.enabled;
            this.updateBtn();
            this.playClick();
        },

        updateBtn() {
            const btn = document.getElementById('btn-sound-toggle');
            if(!btn) return;
            if(this.enabled) {
                btn.className = "w-16 h-8 rounded-full bg-green-500 relative transition-all";
                btn.children[0].style.transform = "translateX(0)";
            } else {
                btn.className = "w-16 h-8 rounded-full bg-red-500 relative transition-all";
                btn.children[0].style.transform = "translateX(-32px)";
            }
        }
    };

    /* =========================================
       2. –ü–ï–†–ï–í–û–î–ß–ò–ö (RU / EN)
       ========================================= */
    const dictionary = {
        ru: {
            play: "–ò–≥—Ä–∞—Ç—å", records: "–†–µ–∫–æ—Ä–¥—ã", settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", socials: "–ú–æ–∏ —Å–æ—Ü —Å–µ—Ç–∏",
            selectMode: "–í—ã–±–µ—Ä–∏—Ç–µ –†–µ–∂–∏–º", classic: "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π", classicDesc: "–ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞. –†–∞—Å—Å–ª–∞–±—å—Å—è –∏ –Ω–∞–π–¥–∏ –≤—Å–µ –ø–∞—Ä—ã.",
            timeAttack: "–ù–∞ –í—Ä–µ–º—è", timeDesc: "–°–æ—Ä–µ–≤–Ω—É–π—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –∏ –ø–æ–ø–∞–¥–∏ –≤ —Ç–æ–ø!",
            back: "–ù–∞–∑–∞–¥", fieldSize: "–†–∞–∑–º–µ—Ä –ü–æ–ª—è",
            cards16: "16 –ö–∞—Ä—Ç", cards30: "30 –ö–∞—Ä—Ç", cards50: "50 –ö–∞—Ä—Ç",
            menu: "–ú–µ–Ω—é", hint: "–ü–æ–¥—Å–∫–∞–∑–∫–∞", time: "–í—Ä–µ–º—è",
            victory: "–ü–û–ë–ï–î–ê!", allFound: "–í—Å–µ –ø–∞—Ä—ã –Ω–∞–π–¥–µ–Ω—ã!",
            timeResult: "–í—Ä–µ–º—è:", movesResult: "–•–æ–¥—ã:",
            saveRecord: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –†–µ–∫–æ—Ä–¥", playAgain: "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞", toMainMenu: "–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
            recordsTitle: "–ó–∞–ª –°–ª–∞–≤—ã", player: "–ò–≥—Ä–æ–∫", date: "–î–∞—Ç–∞", clearRecords: "–°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∫–æ—Ä–¥—ã",
            settingsTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏", sound: "–ó–≤—É–∫", language: "–Ø–∑—ã–∫",
            alertQuit: "–í—ã —É–≤–µ—Ä–µ–Ω—ã? –ü—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.",
            alertRecordSaved: "–†–µ–∫–æ—Ä–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!",
            alertConfirmClear: "–¢–æ—á–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ–∫–æ—Ä–¥—ã?",
            phName: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
        },
        en: {
            play: "Play", records: "Records", settings: "Settings", socials: "My Socials",
            selectMode: "Select Mode", classic: "Classic", classicDesc: "No timer. Relax and find all pairs.",
            timeAttack: "Time Attack", timeDesc: "Race against time and top the leaderboard!",
            back: "Back", fieldSize: "Field Size",
            cards16: "16 Cards", cards30: "30 Cards", cards50: "50 Cards",
            menu: "Menu", hint: "Hint", time: "Time",
            victory: "VICTORY!", allFound: "All pairs found!",
            timeResult: "Time:", movesResult: "Moves:",
            saveRecord: "Save Record", playAgain: "Play Again", toMainMenu: "Main Menu",
            recordsTitle: "Hall of Fame", player: "Player", date: "Date", clearRecords: "Clear Records",
            settingsTitle: "Settings", sound: "Sound", language: "Language",
            alertQuit: "Are you sure? Progress will be lost.",
            alertRecordSaved: "Record saved!",
            alertConfirmClear: "Delete all records?",
            phName: "Enter your name"
        }
    };

    const translator = {
        lang: 'ru',
        
        init() {
            this.apply();
        },
        
        toggle() {
            this.lang = this.lang === 'ru' ? 'en' : 'ru';
            document.getElementById('current-lang-code').innerText = this.lang.toUpperCase();
            this.apply();
            audioManager.playClick();
        },

        getText(key) {
            return dictionary[this.lang][key] || key;
        },

        apply() {
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                if(dictionary[this.lang][key]) {
                    el.innerText = dictionary[this.lang][key];
                }
            });
            const input = document.getElementById('player-name');
            if(input) input.placeholder = dictionary[this.lang].phName;
        }
    };

    /* =========================================
       3. –î–ê–ù–ù–´–ï –ò –õ–û–ì–ò–ö–ê –ò–ì–†–´
       ========================================= */
    
    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –º–∞—Å—Å–∏–≤ –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤ 1.png ... 50.png
    const CARD_ASSETS = Array.from({length: 50}, (_, i) => `${i + 1}.png`);
    const BACK_IMAGE = 'card.png'; 

    const game = {
        state: {
            mode: 'classic',
            rows: 4,
            cols: 4,
            cards: [],
            flipped: [],
            matchedCount: 0,
            totalPairs: 0,
            moves: 0,
            hintsLeft: 3,
            isLocked: false,
            timer: null,
            startTime: 0,
            elapsed: 0
        },

        selectMode(mode) {
            this.state.mode = mode;
            audioManager.playClick();
            nav.toScreen('screen-difficulty');
        },

        start(rows, cols) {
            this.state.rows = rows;
            this.state.cols = cols;
            this.state.moves = 0;
            this.state.matchedCount = 0;
            this.state.flipped = [];
            this.state.isLocked = false;
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫
            if (rows === 4) this.state.hintsLeft = 3;
            else if (rows === 6) this.state.hintsLeft = 5;
            else this.state.hintsLeft = 7;

            this.updateHintUI();

            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–ª–æ–¥—ã
            const totalCards = rows * cols;
            this.state.totalPairs = totalCards / 2;

            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∏–∑ 50 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
            let indices = [...Array(50).keys()];
            indices.sort(() => Math.random() - 0.5);
            indices = indices.slice(0, this.state.totalPairs);

            let deck = [];
            indices.forEach(idx => {
                const img = CARD_ASSETS[idx];
                deck.push({ id: idx, img: img });
                deck.push({ id: idx, img: img });
            });
            deck.sort(() => Math.random() - 0.5);

            this.state.cards = deck;

            // –†–µ–Ω–¥–µ—Ä —Å–µ—Ç–∫–∏
            this.renderGrid(rows, cols);

            // –¢–∞–π–º–µ—Ä
            if(this.state.mode === 'time') {
                document.getElementById('timer-box').classList.remove('hidden');
                this.state.startTime = Date.now();
                this.state.timer = setInterval(() => {
                    this.state.elapsed = Date.now() - this.state.startTime;
                    document.getElementById('timer-val').innerText = this.formatTime(this.state.elapsed);
                }, 1000);
            } else {
                document.getElementById('timer-box').classList.add('hidden');
            }

            nav.toScreen('screen-game');
            audioManager.playClick();
        },

        renderGrid(rows, cols) {
            const grid = document.getElementById('game-grid');
            grid.innerHTML = '';
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–ª–∞—Å—Å–æ–≤ —Å–µ—Ç–∫–∏
            grid.className = `grid-container grid-${rows}x${cols}`;
            
            this.state.cards.forEach((cardData, idx) => {
                const el = document.createElement('div');
                el.className = 'card';
                el.dataset.idx = idx;
                el.dataset.id = cardData.id;
                
                el.innerHTML = `
                    <div class="card-face card-front">
                        <img src="${cardData.img}" onerror="this.src='https://placehold.co/285x420/222/fff?text=${cardData.id}'">
                    </div>
                    <div class="card-face card-back">
                    </div>
                `;
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–∞–¥–Ω–µ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ (—Ä—É–±–∞—à–∫–∏)
                const backImg = new Image();
                backImg.src = BACK_IMAGE;
                backImg.onload = () => {
                    el.querySelector('.card-back').innerHTML = `<img src="${BACK_IMAGE}">`;
                };

                el.addEventListener('click', () => this.flip(el));
                grid.appendChild(el);
            });
        },

        flip(cardEl) {
            if (this.state.isLocked) return;
            if (cardEl.classList.contains('flipped') || cardEl.classList.contains('matched')) return;

            audioManager.playFlip();
            cardEl.classList.add('flipped');
            this.state.flipped.push(cardEl);

            if (this.state.flipped.length === 2) {
                this.state.moves++;
                this.checkMatch();
            }
        },

        checkMatch() {
            this.state.isLocked = true;
            const [c1, c2] = this.state.flipped;

            if (c1.dataset.id === c2.dataset.id) {
                // –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                setTimeout(() => {
                    audioManager.playMatch();
                    c1.classList.add('matched');
                    c2.classList.add('matched');
                    this.spawnParticles(c1);
                    this.spawnParticles(c2);
                    
                    this.state.flipped = [];
                    this.state.isLocked = false;
                    this.state.matchedCount++;
                    
                    if (this.state.matchedCount === this.state.totalPairs) {
                        this.win();
                    }
                }, 500);
            } else {
                // –û—à–∏–±–∫–∞
                setTimeout(() => {
                    c1.classList.remove('flipped');
                    c2.classList.remove('flipped');
                    this.state.flipped = [];
                    this.state.isLocked = false;
                }, 1000);
            }
        },

        useHint() {
            if (this.state.hintsLeft <= 0 || this.state.isLocked) return;

            // –ò—â–µ–º –∫–∞—Ä—Ç—É, –∫–æ—Ç–æ—Ä–∞—è –µ—â–µ –Ω–µ –æ—Ç–∫—Ä—ã—Ç–∞ –∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
            const allCards = Array.from(document.querySelectorAll('.card:not(.matched):not(.flipped)'));
            if (allCards.length < 2) return;

            this.state.isLocked = true;
            this.state.hintsLeft--;
            this.updateHintUI();

            // –ë–µ—Ä–µ–º —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç—É
            const first = allCards[Math.floor(Math.random() * allCards.length)];
            const targetId = first.dataset.id;
            // –ò—â–µ–º –µ—ë –ø–∞—Ä—É
            const second = allCards.find(c => c !== first && c.dataset.id === targetId);

            if (second) {
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º –∏ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ–º
                audioManager.playFlip();
                first.classList.add('flipped');
                setTimeout(() => {
                     second.classList.add('flipped');
                     // –ò–º–∏—Ç–∏—Ä—É–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                     this.state.flipped = [first, second];
                     this.checkMatch();
                }, 300);
            } else {
                this.state.isLocked = false;
            }
        },

        updateHintUI() {
            const btn = document.getElementById('btn-hint');
            const counter = document.getElementById('hint-count');
            counter.innerText = this.state.hintsLeft;
            if (this.state.hintsLeft === 0) {
                btn.classList.add('opacity-50', 'cursor-not-allowed');
                btn.disabled = true;
            } else {
                btn.classList.remove('opacity-50', 'cursor-not-allowed');
                btn.disabled = false;
            }
        },

        win() {
            clearInterval(this.state.timer);
            setTimeout(() => {
                audioManager.playWin();
                nav.toScreen('screen-win');
                document.getElementById('final-time').innerText = this.formatTime(this.state.elapsed);
                document.getElementById('final-moves').innerText = this.state.moves;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞ –≤—Ä–µ–º—è
                const form = document.getElementById('record-form');
                if (this.state.mode === 'time') {
                    form.classList.remove('hidden');
                } else {
                    form.classList.add('hidden');
                }
            }, 800);
        },

        quit() {
            if (confirm(translator.getText('alertQuit'))) {
                clearInterval(this.state.timer);
                nav.backToMenu();
            }
        },

        formatTime(ms) {
            const sec = Math.floor(ms / 1000);
            const m = Math.floor(sec / 60).toString().padStart(2, '0');
            const s = (sec % 60).toString().padStart(2, '0');
            return `${m}:${s}`;
        },

        spawnParticles(element) {
            const rect = element.getBoundingClientRect();
            const center = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };
            
            for (let i = 0; i < 20; i++) {
                const p = document.createElement('div');
                p.classList.add('particle');
                document.body.appendChild(p);
                
                const angle = Math.random() * Math.PI * 2;
                const dist = Math.random() * 100 + 50;
                const size = Math.random() * 8 + 4;
                const color = Math.random() > 0.5 ? '#ffcc00' : '#00f2ea';
                
                p.style.width = size + 'px';
                p.style.height = size + 'px';
                p.style.background = color;
                p.style.left = center.x + 'px';
                p.style.top = center.y + 'px';
                
                const destX = Math.cos(angle) * dist;
                const destY = Math.sin(angle) * dist;
                
                p.animate([
                    { transform: 'translate(0,0) scale(1)', opacity: 1 },
                    { transform: `translate(${destX}px, ${destY}px) scale(0)`, opacity: 0 }
                ], {
                    duration: 800,
                    easing: 'ease-out'
                }).onfinish = () => p.remove();
            }
        }
    };

    /* =========================================
       4. –£–ü–†–ê–í–õ–ï–ù–ò–ï –†–ï–ö–û–†–î–ê–ú–ò
       ========================================= */
    const records = {
        KEY: 'clash_of_cards_records',

        get() {
            return JSON.parse(localStorage.getItem(this.KEY)) || [];
        },

        save() {
            const nameInput = document.getElementById('player-name');
            const name = nameInput.value.trim() || "Anonymous";
            
            const newRecord = {
                name,
                time: document.getElementById('final-time').innerText,
                date: new Date().toLocaleDateString(),
                rawTime: game.state.elapsed
            };

            const list = this.get();
            list.push(newRecord);
            list.sort((a, b) => a.rawTime - b.rawTime); // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –∫—Ç–æ –±—ã—Å—Ç—Ä–µ–µ
            
            localStorage.setItem(this.KEY, JSON.stringify(list.slice(0, 50)));
            
            alert(translator.getText('alertRecordSaved'));
            nav.toRecords();
            nameInput.value = '';
        },

        render() {
            const listEl = document.getElementById('records-list');
            const data = this.get();

            if (data.length === 0) {
                listEl.innerHTML = `<div class="text-center text-gray-500 py-4">No records yet</div>`;
                return;
            }

            listEl.innerHTML = data.map((rec, i) => `
                <div class="grid grid-cols-3 p-3 border-b border-white/5 text-sm hover:bg-white/5 transition items-center">
                    <div class="flex items-center gap-2 overflow-hidden">
                        <span class="${i < 3 ? 'text-yellow-400 font-bold' : 'text-gray-500'}">${i + 1}.</span>
                        <span class="truncate text-white font-medium">${rec.name}</span>
                        ${i === 0 ? '<i class="fas fa-crown text-yellow-500 text-xs"></i>' : ''}
                    </div>
                    <div class="text-center font-mono text-cyan-300">${rec.time}</div>
                    <div class="text-right text-gray-500 text-xs">${rec.date}</div>
                </div>
            `).join('');
        },

        clear() {
            if(confirm(translator.getText('alertConfirmClear'))) {
                localStorage.removeItem(this.KEY);
                this.render();
            }
        }
    };

    /* =========================================
       5. –ù–ê–í–ò–ì–ê–¶–ò–Ø
       ========================================= */
    const nav = {
        toScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        },
        
        backToMenu() {
            audioManager.playClick();
            this.toScreen('screen-menu');
        },

        toModeSelect() {
            audioManager.playClick();
            this.toScreen('screen-mode');
        },

        toRecords() {
            audioManager.playClick();
            records.render();
            this.toScreen('screen-records');
        },

        toSettings() {
            audioManager.playClick();
            this.toScreen('screen-settings');
        }
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    window.onload = () => {
        audioManager.init();
        translator.init();
        
        // –ö–ª–∏–∫ –ø–æ –ª—é–±–æ–º—É –º–µ—Å—Ç—É –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—É–¥–∏–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–≤)
        document.body.addEventListener('click', () => {
            if (audioManager.ctx && audioManager.ctx.state === 'suspended') {
                audioManager.ctx.resume();
            }
        }, {once: true});
    };

</script>

</body>
</html>
